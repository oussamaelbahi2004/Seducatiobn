<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QCM علوم التربية - مصحح</title>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: #f0f2f5; display: flex; justify-content: center; align-items: center; min-height: 100vh; margin: 0; padding: 10px; }
        .container { background: white; width: 100%; max-width: 800px; padding: 20px; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
        h1 { text-align: center; color: #2c3e50; border-bottom: 2px solid #3498db; padding-bottom: 10px; font-size: 22px; }
        .stats { display: flex; justify-content: space-between; font-weight: bold; color: #555; margin-bottom: 20px; background: #ecf0f1; padding: 10px; border-radius: 8px; }
        .question { font-size: 1.2em; font-weight: bold; margin-bottom: 15px; color: #333; line-height: 1.5; }
        .options button { display: block; width: 100%; padding: 12px; margin: 8px 0; border: 2px solid #ddd; border-radius: 8px; background: #fff; cursor: pointer; text-align: right; font-size: 1em; transition: 0.2s; }
        .options button:hover:not([disabled]) { background-color: #f9f9f9; border-color: #bbb; }
        .correct { background-color: #d4edda !important; border-color: #28a745 !important; color: #155724; }
        .wrong { background-color: #f8d7da !important; border-color: #dc3545 !important; color: #721c24; }
        .feedback { margin-top: 15px; padding: 10px; border-radius: 5px; font-weight: bold; display: none; text-align: center; }
        #nextBtn { display: none; width: 100%; padding: 12px; background: #3498db; color: white; border: none; border-radius: 8px; font-size: 1.1em; margin-top: 15px; cursor: pointer; }
        #nextBtn:hover { background: #2980b9; }
        #result { text-align: center; display: none; }
        .score-box { font-size: 3em; color: #3498db; margin: 20px 0; font-weight: bold; }
    </style>
</head>
<body>

<div class="container" id="quizPanel">
    <h1>اختبار علوم التربية (ENS) - 50 سؤال</h1>
    <div class="stats">
        <span id="qCount">السؤال: 1 / 50</span>
        <span id="sCount">النقاط: 0</span>
    </div>
    <div class="question" id="qText">جاري التحميل...</div>
    <div class="options" id="optContainer"></div>
    <div class="feedback" id="feedback"></div>
    <button id="nextBtn" onclick="nextQ()">السؤال التالي</button>
</div>

<div class="container" id="result" style="display:none;">
    <h1>النتيجة النهائية</h1>
    <div class="score-box" id="finalScore">0/50</div>
    <p id="msg"></p>
    <button id="nextBtn" style="display:block; background:#2ecc71" onclick="location.reload()">إعادة الاختبار</button>
</div>

<script>
// قاعدة البيانات: 50 سؤال دقيق من PDF
const db = [
    { q: "ما هو الأصل اللغوي لكلمة 'بيداغوجيا' (Pédagogie)؟", o: ["علم الطفل", "قيادة الطفل (المرافق)", "فن التدريس", "علم النفس"], a: 1 },
    { q: "الديداكتيك يهتم أساساً بالعلاقة بين:", o: ["المدرسة والمجتمع", "الإدارة والأساتذة", "المدرس والمتعلم والمعرفة", "الآباء والأبناء"], a: 2 },
    { q: "القطب 'الإبستمولوجي' في المثلث الديداكتيكي يربط بين:", o: ["المدرس والمعرفة", "المتعلم والمعرفة", "المدرس والمتعلم", "المعرفة والمجتمع"], a: 0 },
    { q: "مفهوم 'النقل الديداكتيكي' يعني:", o: ["نقل التلميذ من مستوى لآخر", "تحويل المعرفة العالمة لمعرفة قابلة للتدريس", "نقل القيم الأخلاقية", "النقل المدرسي"], a: 1 },
    { q: "من هو صاحب نظرية 'العقل اللوحي' (Tabula Rasa)؟", o: ["جون ديوي", "جان بياجي", "جون لوك", "كانط"], a: 2 },
    { q: "ماذا يقصد بـ ZPD عند فيجوتسكي؟", o: ["منطقة الراحة النفسية", "المنطقة القريبة من التطور", "منطقة الذاكرة الدائمة", "منطقة الذكاء المنطقي"], a: 1 },
    { q: "الاتجاه الفلسفي الذي يعتبر 'المعرفة نفعية' هو:", o: ["المثالي", "الطبيعي", "البراغماتي", "التجريبي"], a: 2 },
    { q: "مؤسس التربية الطبيعية ومؤلف كتاب 'إميل' هو:", o: ["بستالوتزي", "روسو", "مونتيسوري", "فروبل"], a: 1 },
    { q: "النظرية التي تركز على 'المثير والاستجابة' هي:", o: ["البنائية", "السلوكية", "الجشتالتية", "المعرفية"], a: 1 },
    { q: "من رواد النظرية البنائية (Constructivism):", o: ["واطسون", "سكينر", "جان بياجي", "فيجوتسكي"], a: 2 },
    { q: "القطب السيكولوجي في المثلث الديداكتيكي يمثل علاقة:", o: ["التمثل (المتعلم والمعرفة)", "التعاقد (المدرس والمتعلم)", "النقل (المدرس والمعرفة)", "السلطة"], a: 0 },
    { q: "حسب 'جون ديوي'، التربية هي:", o: ["إعداد للحياة الآخرة", "حشو للأذهان", "الحياة نفسها وعملية نمو", "نقل للتراث فقط"], a: 2 },
    { q: "المنهج السقراطي يعتمد على:", o: ["المحاضرة", "الحوار والتوليد", "التجربة المخبرية", "الحفظ"], a: 1 },
    { q: "ابن خلدون دعا في مقدمته إلى:", o: ["الشدة على المتعلمين", "التدرج في التعليم وتعلم الصنائع", "إلغاء التعليم المهني", "التركيز على الفلسفة فقط"], a: 1 },
    { q: "النظرية التي تقول 'الكل أكبر من مجموع الأجزاء' هي:", o: ["السلوكية", "الجشتالتية", "البنائية", "التحليل النفسي"], a: 1 },
    { q: "صاحب نظرية الذكاءات المتعددة هو:", o: ["بياجي", "هاورد غاردنر", "بلوم", "مازلو"], a: 1 },
    { q: "دور المدرس في الاتجاه البراغماتي هو:", o: ["ملقن", "مراقب صارم", "ميسر ومنظم للمشاريع", "حارس"], a: 2 },
    { q: "الهدف من التربية في الاتجاه المثالي هو:", o: ["كسب المال", "تنمية العقل والقيم الأخلاقية", "التمتع بالطبيعة", "التكيف البيولوجي"], a: 1 },
    { q: "ما هو 'التعاقد الديداكتيكي'؟", o: ["عقد عمل الأستاذ", "مجموع القواعد التي تنظم العلاقة بين المدرس والمتعلم", "اتفاقية شراكة", "دفتر النصوص"], a: 1 },
    { q: "من رواد النظرية السلوكية:", o: ["بافلوف وسكينر", "ديوي وجيمس", "بياجي وبرونر", "كانط وهيجل"], a: 0 },
    { q: "الديداكتيك العام يهتم بـ:", o: ["تدريس الرياضيات فقط", "المبادئ العامة للتدريس بغض النظر عن المادة", "علم النفس", "الإدارة"], a: 1 },
    { q: "النظرية البنائية الاجتماعية تركز على دور:", o: ["التفاعل الاجتماعي واللغة", "النضج البيولوجي فقط", "التكرار", "الثواب والعقاب"], a: 0 },
    { q: "أي فيلسوف قال 'التربية هي إضفاء الجمال والكمال على الجسم والنفس'؟", o: ["أرسطو", "أفلاطون", "الغزالي", "ديكارت"], a: 1 },
    { q: "الاتجاه التجريبي (Empiricism) يؤمن بأن مصدر المعرفة هو:", o: ["العقل الفطري", "الوحي", "التجربة والملاحظة الحسية", "الحدس"], a: 2 },
    { q: "من خصائص التربية في العصور البدائية أنها كانت:", o: ["نظامية", "تعتمد على الكتابة", "تقليدية وعفوية (المحاكاة)", "علمية"], a: 2 },
    { q: "النظرية التي تعتمد على 'الاستبصار' (Insight) في التعلم هي:", o: ["الجشتالتية", "السلوكية", "البنائية", "المعرفية"], a: 0 },
    { q: "من العوامل المؤثرة في النظام التربوي المغربي:", o: ["المناخ", "فلسفة المجتمع وقيمه", "عدد المدارس", "التوقيت"], a: 1 },
    { q: "بيير بورديو (Pierre Bourdieu) معروف بنظرية:", o: ["الذكاء العاطفي", "رأس المال الثقافي", "التربية السلبية", "المدرسة النشطة"], a: 1 },
    { q: "التربية عند 'هربرت سبنسر' تهدف إلى:", o: ["إعداد الفرد للحياة الكاملة", "خدمة الكنيسة", "التأمل الصوفي", "الطاعة العمياء"], a: 0 },
    { q: "المدرس في الاتجاه الطبيعي (عند روسو) يجب أن يكون:", o: ["مسيطراً", "ملاحظاً ومرافقاً للنمو الطبيعي", "ملقناً", "قاضياً"], a: 1 },
    { q: "أي علم يدرس 'الظواهر التربوية في سياقها الاجتماعي'؟", o: ["علم النفس", "الديداكتيك", "علم الاجتماع التربوي", "الفلسفة"], a: 2 },
    { q: "التعلم بالمشروع (Pédagogie de projet) يندرج ضمن الاتجاه:", o: ["المثالي", "البراغماتي", "السلوكي", "التقليدي"], a: 1 },
    { q: "كلمة Agoge في المصطلح اليوناني تعني:", o: ["الطفل", "المدرسة", "القيادة والتوجيه", "الكتاب"], a: 2 },
    { q: "الديداكتيك الخاص يهتم بـ:", o: ["طرق التدريس عامة", "خصوصيات تدريس مادة معينة", "علم نفس الطفل", "القوانين الإدارية"], a: 1 },
    { q: "مراحل النمو المعرفي الأربعة (الحسي الحركي...) هي من وضع:", o: ["فرويد", "بياجي", "واطسون", "ديوي"], a: 1 },
    { q: "النظرية التي ترى العقل 'علبة سوداء' هي:", o: ["المعرفية", "السلوكية", "البنائية", "الإنسانية"], a: 1 },
    { q: "أي اتجاه يعتمد 'الحوار الفلسفي' كمنهج؟", o: ["التجريبي", "المثالي", "البراغماتي", "الطبيعي"], a: 1 },
    { q: "من هو مؤلف كتاب 'الجمهورية'؟", o: ["سقراط", "أرسطو", "أفلاطون", "ابن رشد"], a: 2 },
    { q: "فيجوتسكي يعتبر أن التعلم يسبق:", o: ["النمو", "الولادة", "المدرسة", "اللغة"], a: 0 },
    { q: "مصطلح 'Pedagogy' حالياً يشير إلى:", o: ["مراقبة الأطفال", "فن وعلم التدريس", "تاريخ التعليم", "علم التشريح"], a: 1 },
    { q: "التعلم بالاكتشاف هو جوهر الاتجاه:", o: ["السلوكي", "الطبيعي", "المثالي", "التحليلي"], a: 1 },
    { q: "من رواد الاتجاه التجريبي:", o: ["جون لوك وفرنسيس بيكون", "أفلاطون وكانط", "روسو وبستالوتزي", "ديوي وجيمس"], a: 0 },
    { q: "التقويم في البيداغوجيا يهدف أساساً إلى:", o: ["معاقبة التلميذ", "تحسين العملية التعليمية", "طرد الكسلاء", "إرضاء الإدارة"], a: 1 },
    { q: "المثلث الديداكتيكي يوضح العلاقات بين:", o: ["ثلاثة تلاميذ", "أقطاب العملية التعليمية التعلمية", "الإدارة والوزارة", "الأسرة والمدرسة"], a: 1 },
    { q: "التربية الحديثة تركز على:", o: ["المعلم كمركز", "المتعلم كفاعل نشيط", "الكتاب المدرسي فقط", "الحفظ"], a: 1 },
    { q: "أهم مفكر في 'التربية التقدمية' هو:", o: ["جون ديوي", "سكينر", "فرويد", "هيربارت"], a: 0 },
    { q: "النظرية الجشتالتية ظهرت في:", o: ["أمريكا", "ألمانيا", "روسيا", "فرنسا"], a: 1 },
    { q: "التعلم عند السلوكيين هو:", o: ["تغير في البنية المعرفية", "تغير في السلوك الخارجي", "عملية اجتماعية", "نضج بيولوجي"], a: 1 },
    { q: "مفهوم 'الممارسة التأملية' يعني:", o: ["التفكير في الممارسات المهنية لتطويرها", "التأمل في الطبيعة", "الصلاة", "النوم"], a: 0 },
    { q: "علوم التربية تتميز بأنها:", o: ["علم واحد", "مجموعة علوم متداخلة", "فن فقط", "فلسفة فقط"], a: 1 }
];

let currentIdx = 0;
let score = 0;
const qText = document.getElementById("qText");
const optContainer = document.getElementById("optContainer");
const feedback = document.getElementById("feedback");
const nextBtn = document.getElementById("nextBtn");
const qCount = document.getElementById("qCount");
const sCount = document.getElementById("sCount");
const quizPanel = document.getElementById("quizPanel");
const resultPanel = document.getElementById("result");
const finalScore = document.getElementById("finalScore");
const msg = document.getElementById("msg");

function loadQ() {
    // التأكد من أن الأسئلة موجودة
    if(!db || db.length === 0) { qText.innerText = "خطأ في تحميل الأسئلة"; return; }
    
    const item = db[currentIdx];
    qText.innerText = item.q;
    optContainer.innerHTML = "";
    feedback.style.display = "none";
    nextBtn.style.display = "none";
    qCount.innerText = `السؤال: ${currentIdx + 1} / ${db.length}`;
    
    item.o.forEach((opt, i) => {
        const btn = document.createElement("button");
        btn.innerText = opt;
        btn.onclick = () => check(i, btn, item.a);
        optContainer.appendChild(btn);
    });
}

function check(choice, btn, correct) {
    const allBtns = optContainer.querySelectorAll("button");
    allBtns.forEach(b => b.disabled = true);
    
    if(choice === correct) {
        btn.classList.add("correct");
        feedback.innerText = "أحسنت! إجابة صحيحة";
        feedback.className = "feedback correct";
        score++;
        sCount.innerText = `النقاط: ${score}`;
    } else {
        btn.classList.add("wrong");
        allBtns[correct].classList.add("correct");
        feedback.innerText = `خطأ! الإجابة الصحيحة هي: ${db[currentIdx].o[correct]}`;
        feedback.className = "feedback wrong";
    }
    feedback.style.display = "block";
    nextBtn.style.display = "block";
}

function nextQ() {
    currentIdx++;
    if(currentIdx < db.length) {
        loadQ();
    } else {
        showRes();
    }
}

function showRes() {
    quizPanel.style.display = "none";
    resultPanel.style.display = "block";
    finalScore.innerText = `${score} / ${db.length}`;
    
    if(score >= 40) msg.innerText = "ممتاز! ضبطتي المادة مزيان تبارك الله عليك.";
    else if(score >= 25) msg.innerText = "مزيان، ولكن مازال خاصك مراجعة لشي محاور.";
    else msg.innerText = "النتيجة ضعيفة، عاود راجع الـ PDF وركز على المفاهيم.";
}

// بدء الاختبار
loadQ();
</script>

</body>
</html>
لاتجاه المثالي.", "الاتجاه الطبيعي.", "الاتجاه التجريبي.", "الاتجاه الروحي."],
            answer: 2
        },
        {
            q: "من هو الفيلسوف الذي عرف التربية بأنها 'إضفاء الجمال والكمال الممكنين على الجسم والنفس'؟",
            options: ["أفلاطون.", "أرسطو.", "الغزالي.", "كانط."],
            answer: 0
        },
        {
            q: "مفهوم 'البيداغوجيا' حالياً، كما ورد في الملف، يعني:",
            options: ["دراسة تاريخ المدارس.", "علم أو فن التدريس الذي يهتم بالعلاقات التفاعلية داخل القسم.", "علم يدرس المناهج الدراسية فقط.", "فلسفة التربية المجردة."],
            answer: 1
        },
        {
            q: "صاحب نظرية 'رأس المال الثقافي' هو:",
            options: ["بيير بورديو.", "ألبير باندورا.", "جون رولز.", "كارل ماركس."],
            answer: 0
        },
        {
            q: "في العصر الحديث، انتقلت علوم التربية من:",
            options: ["التجريب إلى التأمل.", "الفلسفة المجردة إلى العلم التجريبي والبحث العلمي.", "علم النفس إلى علم الاجتماع.", "المدرسة إلى الأسرة."],
            answer: 1
        },
        {
            q: "التربية التقدمية (Progressive Education) التي تركز على التعلم النشط ارتبطت بـ:",
            options: ["جون ديوي.", "جون لوك.", "فرنسيس بيكون.", "هيجيل."],
            answer: 0
        },
        {
            q: "ما هو الهدف النهائي للتربية في 'الاتجاه المثالي'؟",
            options: ["حل المشكلات اليومية.", "تنمية العقل والأخلاق والقيم السامية.", "احترام قوانين الطبيعة.", "اكتساب مهارات يدوية."],
            answer: 1
        },
        {
            q: "أي مما يلي يعتبر من رواد 'النظرية السلوكية'؟",
            options: ["بياجي وفيجوتسكي.", "ماسلو وروجرز.", "بافلوف، سكنر، وثورندايك.", "كوهلر وكوفكا."],
            answer: 2
        },
        {
            q: "المدرس في 'الاتجاه البراغماتي' يلعب دور:",
            options: ["الملقن والمصدر الوحيد للمعرفة.", "الميسر للتعلم بالممارسة والتجربة (المشروعات).", "المراقب الصارم للسلوك.", "الحكيم الذي يلقي المحاضرات."],
            answer: 1
        },
        {
            q: "تعريف رفاعة الطهطاوي للتربية يركز على:",
            options: ["بناء خلق الطفل بما يليق بالمجتمع الفاضل.", "تنمية الجانب الجسدي فقط.", "إعداد الفرد للحرب.", "التكيف البيولوجي."],
            answer: 0
        },
        {
            q: "النظرية التي تؤكد على أن التعلم يحدث عبر 'بناء المعرفة ذاتياً' من خلال التفاعل مع البيئة هي:",
            options: ["النظرية البنائية.", "النظرية السلوكية.", "النظرية الترابطية.", "النظرية الكلاسيكية."],
            answer: 0
        },
        {
            q: "أي تخصص يدرس علاقة المدرسة بالمجتمع ضمن علوم التربية؟",
            options: ["علم النفس التربوي.", "ديداكتيك المواد.", "علم الاجتماع التربوي.", "فلسفة التربية."],
            answer: 2
        },
        {
            q: "من خصائص التربية في المجتمعات البدائية أنها كانت:",
            options: ["تتم في مدارس نظامية.", "تتم عبر المحاكاة والتقليد لضمان البقاء.", "تعتمد على الكتب والمخطوطات.", "تشرف عليها الدولة المركزية."],
            answer: 1
        },
        {
            q: "الفكرة القائلة بأن 'قيمة المعرفة تقاس بنفعها العملي' هي جوهر:",
            options: ["الاتجاه الوجودي.", "الاتجاه البراغماتي.", "الاتجاه العقلاني.", "الاتجاه الماركسي."],
            answer: 1
        },
        {
            q: "في المثلث الديداكتيكي، القطب 'البيداغوجي' يمثله:",
            options: ["المتعلم.", "المعرفة.", "المدرس.", "المنهاج."],
            answer: 2
        },
        {
            q: "النظرية البنائية الاجتماعية (Socioconstructivisme) تختلف عن البنائية في تركيزها على:",
            options: ["دور الوراثة في الذكاء.", "دور التفاعل الاجتماعي واللغة في التعلم.", "دور التعزيز والعقاب.", "دور النضج البيولوجي فقط."],
            answer: 1
        },
        {
            q: "هربرت سبنسر عرّف التربية بأنها:",
            options: ["الحياة.", "إعداد الفرد ليحيى حياة كاملة.", "تنمية الذاكرة.", "فن البيان."],
            answer: 1
        },
        {
            q: "ما هو المنهج المعتمد في 'الاتجاه المثالي' للتربية؟",
            options: ["التجارب المخبرية.", "التعلم بالمشروع.", "الحوار والمناقشة الفلسفية والتأمل.", "الخرجات الميدانية."],
            answer: 2
        },
        {
            q: "النظرية الروحية في التربية من أعلامها:",
            options: ["أبراهام ماسلو وعلي أحمد مدكور.", "سكنر وبافلوف.", "ديوي وبياجي.", "بورديو وباسرون."],
            answer: 0
        },
        {
            q: "تعتبر 'علوم التربية' مجالاً:",
            options: ["أحادي التخصص (يعتمد على البيداغوجيا فقط).", "متعدد التخصصات (يتقاطع مع الفلسفة، علم النفس، الاجتماع...).", "تقنياً محضاً.", "أدبياً فقط."],
            answer: 1
        },
        {
            q: "في العصر الحديث، أصبحت التربية تهدف إلى:",
            options: ["حشو الأذهان بالمعلومات.", "بناء الإنسان المبدع والمواطن الفاعل.", "الطاعة العمياء للسلطة.", "الحفاظ على التقاليد القديمة فقط."],
            answer: 1
        },
        {
            q: "الديداكتيك لا يقتصر على نقل المعرفة، بل يهتم بـ:",
            options: ["كيفية بناء المتعلم لمعناه الخاص داخل السياق التعليمي.", "الحياة الشخصية للمدرس.", "التجهيزات المادية للمدرسة.", "تاريخ العلوم."],
            answer: 0
        },
        {
            q: "ما الذي يميز 'الاتجاه التجريبي' (Empiricism) في نظرته للمعرفة؟",
            options: ["المعرفة فطرية تولد مع الإنسان.", "المعرفة تأتي من الوحي.", "المعرفة تنشأ من التجربة والملاحظة الحسية.", "المعرفة مستحيلة."],
            answer: 2
        },
        {
            q: "كتاب 'الجمهورية' الذي تصور نظاماً تعليمياً للمجتمع المثالي هو لـ:",
            options: ["سقراط.", "أرسطو.", "أفلاطون.", "فيثاغورس."],
            answer: 2
        },
        {
            q: "من العوامل المؤثرة في بناء النظام التربوي المغربي حسب الملف:",
            options: ["فلسفة المجتمع وقيمه.", "الموقع الجغرافي فقط.", "عدد السكان فقط.", "المناخ."],
            answer: 0
        },
        {
            q: "النظريات التكنولوجية في التربية من أعلامها:",
            options: ["سكينر وبلوم.", "روسو وكانط.", "فيجوتسكي.", "فرويد."],
            answer: 0
        },
        {
            q: "التربية عند جان جاك روسو في كتابه 'إميل' يجب أن تراعي:",
            options: ["رغبات الوالدين.", "مراحل تطور الطفل وخصائصه العمرية.", "حاجات السوق الاقتصادية.", "التعاليم الكنسية."],
            answer: 1
        },
        {
            q: "أي نظرية تركز على 'التعلم بالمشروع' (Project-based learning)؟",
            options: ["النظرية السلوكية.", "النظرية الجشتالتية.", "النظرية البراغماتية.", "النظرية المثالية."],
            answer: 2
        },
        {
            q: "في المثلث الديداكتيكي، المتعلم يمثل القطب:",
            options: ["السوسيولوجي.", "البيداغوجي.", "السيكولوجي (النفسي).", "الإبستمولوجي."],
            answer: 2
        }
    ];

    let currentQuestionIndex = 0;
    let score = 0;
    const questionText = document.getElementById("questionText");
    const optionsContainer = document.getElementById("optionsContainer");
    const nextBtn = document.getElementById("nextBtn");
    const questionCount = document.getElementById("questionCount");
    const scoreCount = document.getElementById("scoreCount");
    const feedbackMsg = document.getElementById("feedbackMsg");
    const quizContainer = document.getElementById("quizContainer");
    const resultContainer = document.getElementById("resultContainer");
    const finalScore = document.getElementById("finalScore");
    const appreciationMsg = document.getElementById("appreciationMsg");

    // خلط الأسئلة عشوائياً عند البدء
    // questions.sort(() => Math.random() - 0.5); 
    // ملاحظة: تم تعطيل الخلط العشوائي للحفاظ على تسلسل منطقي أحياناً، يمكن تفعيله بإزالة التعليق.

    function loadQuestion() {
        const q = questions[currentQuestionIndex];
        questionText.textContent = q.q;
        optionsContainer.innerHTML = "";
        feedbackMsg.style.display = "none";
        nextBtn.style.display = "none";
        questionCount.textContent = `السؤال: ${currentQuestionIndex + 1} / ${questions.length}`;

        q.options.forEach((opt, index) => {
            const btn = document.createElement("button");
            btn.textContent = opt;
            btn.classList.add("option-btn");
            btn.onclick = () => checkAnswer(index, btn);
            optionsContainer.appendChild(btn);
        });
    }

    function checkAnswer(selectedIndex, selectedBtn) {
        const q = questions[currentQuestionIndex];
        const buttons = optionsContainer.getElementsByClassName("option-btn");
        
        // تعطيل كل الأزرار بعد الاختيار
        for (let btn of buttons) {
            btn.disabled = true;
            btn.style.cursor = "default";
        }

        if (selectedIndex === q.answer) {
            selectedBtn.classList.add("correct");
            feedbackMsg.textContent = "إجابة صحيحة! أحسنت.";
            feedbackMsg.style.backgroundColor = "#d4edda";
            feedbackMsg.style.color = "#155724";
            feedbackMsg.style.border = "1px solid #c3e6cb";
            score++;
            scoreCount.textContent = `النتيجة: ${score}`;
        } else {
            selectedBtn.classList.add("wrong");
            buttons[q.answer].classList.add("correct"); // إظهار الجواب الصحيح
            feedbackMsg.textContent = `خطأ! الإجابة الصحيحة هي: ${q.options[q.answer]}`;
            feedbackMsg.style.backgroundColor = "#f8d7da";
            feedbackMsg.style.color = "#721c24";
            feedbackMsg.style.border = "1px solid #f5c6cb";
        }

        feedbackMsg.style.display = "block";
        nextBtn.style.display = "block";
    }

    function nextQuestion() {
        currentQuestionIndex++;
        if (currentQuestionIndex < questions.length) {
            loadQuestion();
        } else {
            showResult();
        }
    }

    function showResult() {
        quizContainer.style.display = "none";
        resultContainer.style.display = "block";
        finalScore.textContent = `${score}/${questions.length}`;
        
        const percentage = (score / questions.length) * 100;
        if (percentage >= 80) {
            [span_0](start_span)[span_1](start_span
